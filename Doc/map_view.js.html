<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: views/map_view.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: views/map_view.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
* @fileoverview Map lib, draw the map on the main page.
*
* @author StartDevs
* @version 1.0
*/
var mapView = Backbone.View.extend({
	/**
     * Define the HTML element asociated to the view.
     * @memberof mapView
     * @instance
     * @type {HTML}
     */
  el: $('#container'),
    /** 
    @lends mapView.prototype
    */
    /**
     * Saves a new object of open layers.
     * @memberof mapView
     * @instance
     * @type {object}
     */
  map: null,
    /** 
    @lends loginView.prototype
    */
    /**
     * Saves the map model.
     * @memberof mapView
     * @instance
     * @type {object}
     */
  model: new mapModel(),
    /**
	 * @class 
	 * @name mapView
	 * @classdesc Load the map on the screen.
	 * @constructs
	 * @desc nothing at the moment...
	 */
  initialize: function () {    
  },
  /**
    * @public
    * @function render
    * @memberof mapView
    * @instance
    * @desc Draw map template.
    */
  render: function () {
	var latitude = parseFloat(localStorage.getItem('latitude'));
	var longitude = parseFloat(localStorage.getItem('longitude'));
	if(this.model.get("map") == "default"){      
		this.map = new ol.Map({
			target: 'map',
			layers: [
			  new ol.layer.Tile({
				source: new ol.source.OSM()
			  })
			],
			renderers: ol.RendererHints.createFromQueryData(),
			view: new ol.View2D({
				center: ol.proj.transform([longitude,latitude], 'EPSG:4326', 'EPSG:3857'),
				zoom: 16
			})
		});
		var geolocation = new ol.Geolocation();
		geolocation.bindTo('projection', this.map.getView());
		geolocation.setTracking(true);
		var marker = new ol.Overlay({
		  element: document.getElementById('position'),
		  position: ol.proj.transform([longitude,latitude], 'EPSG:4326', 'EPSG:3857'),
		  positioning: ol.OverlayPositioning.CENTER_CENTER
		});
		this.map.addOverlay(marker);
		// bind the marker position to the device location.
		marker.bindTo('position', geolocation);
		return true;
	}
  }
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="loginView.html">loginView</a></li><li><a href="mainView.html">mainView</a></li><li><a href="mapView.html">mapView</a></li><li><a href="Vidali.html">Vidali</a></li></ul><h3>Global</h3><ul><li><a href="global.html#vdl">vdl</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Wed Nov 20 2013 22:16:21 GMT-0000 (WET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
